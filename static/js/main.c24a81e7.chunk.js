(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],{13:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(8),o=n.n(r),s=(n(13),n(7),n(6)),a=n(2),i=n(0);function l(e){function t(){e.toggleTodo(e.todo.id)}return Object(i.jsxs)("div",{onClick:t,draggable:"true",onDragStart:function(t){return e.handletDragStart(t,e.todoI)},onDragEnter:e.dragging?function(t){e.handleDragEnter(t,e.todoI)}:null,className:e.dragging?e.getStyles(e.todoI):"todo__item",children:[Object(i.jsx)("input",{type:"checkbox",id:e.todo.id,checked:e.todo.complete,onChange:t}),Object(i.jsxs)("label",{children:[Object(i.jsx)("span",{htmlFor:e.todo.id,className:"custom__checkbox"}),e.todo.name]})]},e.todo.id)}function d(e){var t=e.todos,n=e.toggleTodo,r=e.setTodos,o=e.filter,s=e.setFilter,d=e.filterList,u=e.useMatchMedia,j=e.FILTER_MAP,f=u("(min-width:665px)",!0);var b=Object(c.useState)(t),m=Object(a.a)(b,2),g=m[0],O=m[1],h=Object(c.useState)(!1),p=Object(a.a)(h,2),v=p[0],x=p[1];Object(c.useEffect)((function(){O(t)}),[O,t]);var _=Object(c.useRef)(),N=Object(c.useRef)(),S=function(e,t){console.log("Starting to drag",t),N.current=e.target,N.current.addEventListener("dragend",T),_.current=t,setTimeout((function(){x(!0)}),0)},E=function(e,t){console.log("Entering a drag target",t),N.current!==e.target&&(console.log("Target is NOT the same as dragged item"),r((function(e){var n=JSON.parse(JSON.stringify(e));return n.splice(t,0,n.splice(_.current,1)[0]),_.current=t,console.log(n),n})))},T=function e(t){x(!1),_.current=null,N.current.removeEventListener("dragend",e),N.current=null},k=function(e){return _.current===e?"todo__item current":"todo__item"};return g?Object(i.jsxs)("div",{className:"list__container",children:[t.filter(j[o]).map((function(e,t){return Object(i.jsx)(l,{todo:e,todoI:t,toggleTodo:n,setTodos:r,dragging:v,handletDragStart:S,getStyles:k,handleDragEnd:T,handleDragEnter:E},e.id)})),Object(i.jsxs)("div",{className:"controls",children:[Object(i.jsxs)("div",{className:"items__left",children:[t.filter((function(e){return!e.complete})).length," items left"]}),f&&d,Object(i.jsx)("button",{className:"btn btn--clear",onClick:function(){var e=t.filter((function(e){return!e.complete}));r(e),s("All")},children:"Clear Completed"})]})]}):null}var u=n(17);function j(e){return Object(i.jsxs)("button",{type:"button",className:"btn filter--btn","aria-pressed":e.isPressed,onClick:function(){return e.setFilter(e.name)},children:[Object(i.jsx)("span",{className:"visually-hidden",children:"Show "}),Object(i.jsx)("span",{children:e.name}),Object(i.jsx)("span",{className:"visually-hidden",children:" tasks"})]})}var f="todoApp.todos",b={All:function(){return!0},Active:function(e){return!e.complete},Completed:function(e){return e.complete}},m=Object.keys(b);function g(){var e=Object(c.useState)([]),t=Object(a.a)(e,2),n=t[0],r=t[1],o=Object(c.useRef)(),l=Object(c.useState)("All"),g=Object(a.a)(l,2),O=g[0],h=g[1],p=m.map((function(e){return Object(i.jsx)(j,{name:e,isPressed:e===O,setFilter:h},e)})),v=function(e,t){var n=Object(c.useState)(t),r=Object(a.a)(n,2),o=r[0],s=r[1];return Object(c.useEffect)((function(){var t=window.matchMedia(e);s(t.matches);var n=function(e){s(e.matches)};return t.addEventListener?t.addEventListener("change",n):t.addListener(n),function(){return t.removeEventListener?t.removeEventListener("change",n):t.removeListener(n)}}),[e]),o};Object(c.useEffect)((function(){var e=JSON.parse(localStorage.getItem(f));e&&r(e)}),[]),Object(c.useEffect)((function(){localStorage.setItem(f,JSON.stringify(n))}),[n]);var x=v("(max-width:665px)",!0);return Object(i.jsx)("main",{children:Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)("h1",{className:"header",children:"TODO"}),Object(i.jsx)("form",{className:"new__todo",onSubmit:function(e){e.preventDefault();var t=o.current.value;""!==t&&(r((function(e){return[].concat(Object(s.a)(e),[{id:Object(u.a)(),name:t,complete:!1}])})),o.current.value=null)},children:Object(i.jsxs)("label",{htmlFor:"newTodo",className:"input__div",children:[Object(i.jsx)("span",{id:"newCheck",className:"custom__checkbox"}),Object(i.jsx)("input",{id:"newTodo",ref:o,type:"text",placeholder:"Create a new todo..."})]})}),Object(i.jsx)("div",{className:"list__container",children:Object(i.jsx)(d,{FILTER_MAP:b,useMatchMedia:v,filter:O,setFilter:h,filterList:p,todos:n,setTodos:r,toggleTodo:function(e){var t=Object(s.a)(n),c=t.find((function(t){return t.id===e}));c.complete=!c.complete,r(t)}})}),x&&Object(i.jsx)("div",{className:"controls filters",children:p})]})})}o.a.render(Object(i.jsx)(g,{}),document.getElementById("root"))},7:function(e,t,n){}},[[15,1,2]]]);
//# sourceMappingURL=main.c24a81e7.chunk.js.map